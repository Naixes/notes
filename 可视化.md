# 可视化

## 浏览器画图原理

### canvas

### svg

SVG 是一种基于 XML 语法的图像格式，全称是可缩放矢量图（Scalable Vector Graphics）。其他图像格式都是基于像素处理的，SVG 则是属于对图像的形状描述，所以它本质上是文本文件，体积较小，且不管放大多少倍都不会失真。

SVG 文件可以直接插入网页，成为 DOM 的一部分，然后用 JavaScript 和 CSS 进行操作。

```html
<!DOCTYPE html>
<html>
<head></head>
<body>
<svg
  id="mysvg"
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 800 600"
  preserveAspectRatio="xMidYMid meet"
>
  <circle id="mycircle" cx="400" cy="300" r="50" />
<svg>
</body>
</html>
```

SVG 代码也可以写在一个独立文件中，然后用`<img>`、`<object>`、`<embed>`、`<iframe>`等标签插入网页。

```html
<img src="circle.svg">
<object id="object" data="circle.svg" type="image/svg+xml"></object>
<embed id="embed" src="icon.svg" type="image/svg+xml">
<iframe id="iframe" src="icon.svg"></iframe>
```

CSS 也可以使用 SVG 文件。

```css
.logo {
  background: url(icon.svg);
}
```

SVG 文件还可以转为 BASE64 编码，然后作为 Data URI 写入网页。

```html
<img src="data:image/svg+xml;base64,[data]">
```

#### svg标签

SVG 代码都放在顶层标签`<svg>`之中。下面是一个例子。

```html

<!-- SVG 代码都放在顶层标签`<svg>`之中。 -->
<!-- width`属性和`height`属性，除了相对单位，也可以采用绝对单位（单位：像素）。如果不指定默认大小是300像素（宽） x 150像素（高） -->
<!-- 如果只想展示 SVG 图像的一部分，就要指定viewBox属性。 -->
<!-- <viewBox>属性的值有四个数字，分别是左上角的横坐标和纵坐标、视口的宽度和高度。 -->
<svg width="100%" height="100%" viewBox="50 50 50 50">
    <!-- <circle>标签的cx、cy、r属性分别为横坐标、纵坐标和半径，单位为像素。坐标都是相对于<svg>画布的左上角原点。 -->
    <circle id="mycircle" cx="50" cy="50" r="50" />
</svg>
```

#### circle标签

```html
<svg width="300" height="180">
  <circle cx="30"  cy="50" r="25" />
  <circle cx="90"  cy="50" r="25" class="red" />
  <circle cx="150" cy="50" r="25" class="fancy" />
</svg>
```

```css
.red {
    fill: red;
}
.fancy {
    fill: none;
    stroke: black;
    stroke-width: 3pt;
}
```

#### polyline标签

```html
<svg width="300" height="180">
  <polyline points="3,3 30,28 3,53" fill="none" stroke="black" />
</svg>
```



## Echarts

### WebGL

浏览器实现了opengl es规范，可以直接使用指令操作显卡，渲染3d

## three.js

webgl库

### 四大组件

#### 场景

THREE.Sean()

#### 相机

- 透视相机
- 正投影相机

视角fov， 纵横比aspect宽除以高，近平面near，远平面far

THREE.PerspectiveCamera= function(fov, aspect, near, far)

#### 渲染器

计算的过程

THREE.WebGLRender()

#### 几何体

